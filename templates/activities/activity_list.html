{% extends 'base.html' %}

{% block title %}All Activities{% endblock %}

{% block content %}

    <h1 class="mb-4">Activities For Use</h1>

    <form method="get" class="mb-4">

        <div class="mb-3">
            <label for="category" class="form-label">
                Filter by category:
            </label>

            <select name="category" id="category" class="form-select">
                <option value="">All Categories</option>

                {% for value, label in category_choices %}
                    <option value="{{ value }}"
                        {% if selected_category == value %}
                            selected
                        {% endif %}
                    >
                        {{ label }}
                    </option>
                {% endfor %}
            </select>
        </div>

        <button type="submit" class="btn btn-soft">
            Filter
        </button>

        {% if selected_category %}
            <a href="{% url 'activities:list' %}"
               class="btn btn-outline-secondary ms-2">
                Clear Filter
            </a>
        {% endif %}

    </form>

    {% if activities %}
        <ul class="list-group mb-4">
            {% for activity in activities %}
                <li class="list-group-item d-flex justify-content-between align-items-center">

                    <div>
                        <a href="{% url 'activities:detail' activity.pk %}"
                           class="text-decoration-none fw-semibold">
                            {{ activity.name }}
                        </a>
                        <small class="text-muted"> ({{ activity.get_category_display }})</small>
                    </div>

                </li>
            {% endfor %}
        </ul>
    {% else %}
        <p>No activities have been defined yet.</p>
    {% endif %}

    <p>
        <a href="{% url 'activities:create' %}" class="btn btn-soft">
            Add New Activity
        </a>
    </p>

    {% include 'common/pagination.html' %}

{% endblock %}
